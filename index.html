<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestionnaire √âquipe U11F2 - Basket</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .loading-spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-left: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        window.addEventListener('load', function() {
            console.log('Window loaded, initializing React app...');

            if (typeof React === 'undefined' || typeof ReactDOM === 'undefined') {
                document.getElementById('root').innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; background-color: #fef2f2;">
                        <div style="text-align: center; background: white; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
                            <h1 style="color: #dc2626; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Erreur de chargement</h1>
                            <p style="color: #6b7280;">React ou ReactDOM n'est pas charg√©. V√©rifiez votre connexion internet.</p>
                            <button onclick="location.reload()" style="background: #3b82f6; color: white; padding: 0.5rem 1rem; border: none; border-radius: 0.25rem; cursor: pointer; margin-top: 1rem;">
                                Recharger
                            </button>
                        </div>
                    </div>
                `;
                return;
            }

            const { useState, useEffect } = React;

            // Password Protection Component
            function PasswordProtection({ onAuth }) {
                const [password, setPassword] = useState('');
                const [error, setError] = useState('');

                const handleSubmit = (e) => {
                    e.preventDefault();
                    if (password === 'basket2025') {
                        onAuth(true);
                    } else {
                        setError('Mot de passe incorrect');
                        setPassword('');
                    }
                };

                return React.createElement('div', {
                    style: {
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        minHeight: '100vh',
                        backgroundColor: '#f9fafb'
                    }
                },
                    React.createElement('div', {
                        style: {
                            background: 'white',
                            padding: '2rem',
                            borderRadius: '0.5rem',
                            boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)',
                            width: '100%',
                            maxWidth: '28rem'
                        }
                    },
                        React.createElement('div', { style: { textAlign: 'center', marginBottom: '1.5rem' } },
                            React.createElement('h1', {
                                style: {
                                    color: '#1e40af',
                                    fontSize: '1.5rem',
                                    fontWeight: 'bold',
                                    marginBottom: '0.5rem'
                                }
                            }, 'üèÄ Gestionnaire √âquipe U11F2'),
                            React.createElement('p', { style: { color: '#6b7280' } }, 'Acc√®s prot√©g√©')
                        ),
                        React.createElement('form', { onSubmit: handleSubmit },
                            React.createElement('div', { style: { marginBottom: '1rem' } },
                                React.createElement('label', {
                                    style: {
                                        display: 'block',
                                        fontSize: '0.875rem',
                                        fontWeight: '500',
                                        color: '#374151',
                                        marginBottom: '0.5rem'
                                    }
                                }, 'Mot de passe'),
                                React.createElement('input', {
                                    type: 'password',
                                    value: password,
                                    onChange: (e) => setPassword(e.target.value),
                                    placeholder: 'Entrez le mot de passe',
                                    required: true,
                                    style: {
                                        width: '100%',
                                        padding: '0.75rem',
                                        border: '1px solid #d1d5db',
                                        borderRadius: '0.5rem',
                                        fontSize: '1rem',
                                        outline: 'none',
                                        boxSizing: 'border-box'
                                    }
                                })
                            ),
                            error && React.createElement('div', {
                                style: {
                                    marginBottom: '1rem',
                                    padding: '0.75rem',
                                    backgroundColor: '#fee2e2',
                                    border: '1px solid #fca5a5',
                                    color: '#991b1b',
                                    borderRadius: '0.5rem',
                                    fontSize: '0.875rem'
                                }
                            }, error),
                            React.createElement('button', {
                                type: 'submit',
                                style: {
                                    width: '100%',
                                    backgroundColor: '#3b82f6',
                                    color: 'white',
                                    padding: '0.75rem 1rem',
                                    border: 'none',
                                    borderRadius: '0.5rem',
                                    fontSize: '1rem',
                                    fontWeight: '500',
                                    cursor: 'pointer'
                                }
                            }, 'Acc√©der')
                        )
                    )
                );
            }

            // Main Basketball Team Manager Component
            function BasketTeamManager() {
                const [selectedDate, setSelectedDate] = useState(null);
                const [matches, setMatches] = useState({});
                const [loading, setLoading] = useState(false);
                const [error, setError] = useState('');

                const players = [
                    { name: "Lila", parentName: "Parent Lila", email: "***@***.fr", phone: "06 ** ** ** 84" },
                    { name: "Eve", parentName: "Parent Eve", email: "***@***.com", phone: "06 ** ** ** 01" },
                    { name: "Jeanne", parentName: "Parent Jeanne", email: "***@***.com", phone: "06 ** ** ** 01" },
                    { name: "Emma", parentName: "Parent Emma", email: "***@***.fr", phone: "06 ** ** ** 67" },
                    { name: "Valentine", parentName: "Parent Valentine", email: "***@***.fr", phone: "06 ** ** ** 34" },
                    { name: "Cl√©mence", parentName: "Parent Cl√©mence", email: "***@***.fr", phone: "07 ** ** ** 98" },
                    { name: "Stella", parentName: "Parent Stella", email: "***@***.com", phone: "06 ** ** ** 82" },
                    { name: "Cl√©a", parentName: "Parent Cl√©a", email: "***@***.com", phone: "06 ** ** ** 85" }
                ];

                const [matchForm, setMatchForm] = useState({
                    club: '',
                    address: '',
                    time: '',
                    jerseyParent: '',
                    drivers: ['', '', ''],
                    snackParents: ['', '']
                });

                // Load matches on component mount
                useEffect(() => {
                    setMatches({
                        '2025-09-27': {
                            club: 'OC Cesson',
                            address: 'ESB - 49 avenue de Dezerseul - Cesson S√©vign√©',
                            time: '',
                            jerseyParent: '',
                            drivers: ['', '', ''],
                            snackParents: ['', '']
                        }
                    });
                }, []);

                const getCurrentDate = () => {
                    const now = new Date();
                    const year = now.getFullYear();
                    const month = String(now.getMonth() + 1).padStart(2, '0');
                    return `${year}-${month}`;
                };

                const [currentMonth, setCurrentMonth] = useState(getCurrentDate());

                return React.createElement('div', { className: 'max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen' },
                    // Header
                    React.createElement('div', { className: 'text-center mb-8' },
                        React.createElement('h1', { className: 'text-4xl font-bold text-blue-800 mb-2' },
                            'üèÄ Gestionnaire √âquipe U11F2'
                        ),
                        React.createElement('p', { className: 'text-gray-600' }, 'Organisation des matchs - Parents et encadrement'),
                        React.createElement('p', { className: 'text-sm text-gray-500 mt-1' },
                            '‚ö° Base de donn√©es Neon ‚Ä¢ üîÑ Sauvegarde automatique'
                        )
                    ),

                    // Calendar placeholder
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-lg p-6 mb-6' },
                        React.createElement('h2', { className: 'text-2xl font-bold text-blue-800 mb-4' }, 'Septembre 2025'),
                        React.createElement('div', { className: 'grid grid-cols-7 gap-2 mb-2' },
                            ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'].map(day =>
                                React.createElement('div', {
                                    key: day,
                                    className: 'text-center font-semibold p-2 text-gray-700'
                                }, day)
                            )
                        ),
                        React.createElement('div', { className: 'grid grid-cols-7 gap-2' },
                            // Calendar days (simplified)
                            Array.from({ length: 30 }, (_, i) => {
                                const day = i + 1;
                                const isMatch = day === 27;
                                return React.createElement('button', {
                                    key: day,
                                    className: `p-3 text-center rounded-lg border-2 transition-all duration-200 ${
                                        isMatch
                                            ? 'bg-blue-100 border-blue-500 text-blue-800 font-semibold shadow-md'
                                            : 'border-gray-200 hover:bg-blue-50 hover:border-blue-300 cursor-pointer'
                                    }`
                                },
                                    React.createElement('div', { className: 'font-medium' }, day),
                                    isMatch && React.createElement('div', { className: 'text-xs text-blue-600 mt-1' }, 'üèÄ Match')
                                );
                            })
                        )
                    ),

                    // Team list
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-lg p-6' },
                        React.createElement('div', { className: 'flex justify-between items-center mb-6' },
                            React.createElement('h3', { className: 'text-2xl font-bold text-blue-800 flex items-center' },
                                'üë• √âquipe U11F2 (Saison 25/26)'
                            )
                        ),
                        React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4' },
                            players.map((player, index) =>
                                React.createElement('div', {
                                    key: index,
                                    className: 'bg-blue-50 p-4 rounded-lg border border-blue-100 hover:shadow-md transition-shadow'
                                },
                                    React.createElement('h4', { className: 'font-bold text-blue-800 text-lg mb-2' }, player.name),
                                    React.createElement('p', { className: 'text-sm text-gray-600 mb-1' },
                                        React.createElement('span', { className: 'font-medium' }, 'Contact : '),
                                        player.parentName
                                    ),
                                    React.createElement('p', { className: 'text-sm text-gray-600 mb-1' },
                                        React.createElement('span', { className: 'font-medium' }, 'Email : '),
                                        player.email
                                    ),
                                    React.createElement('p', { className: 'text-sm text-gray-600' },
                                        React.createElement('span', { className: 'font-medium' }, 'T√©l : '),
                                        player.phone
                                    )
                                )
                            )
                        )
                    )
                );
            }

            // Main App Component
            function App() {
                const [isAuthenticated, setIsAuthenticated] = useState(false);

                if (!isAuthenticated) {
                    return React.createElement(PasswordProtection, { onAuth: setIsAuthenticated });
                }

                return React.createElement(BasketTeamManager);
            }

            // Render the app
            try {
                ReactDOM.render(React.createElement(App), document.getElementById('root'));
                console.log('App rendered successfully');
            } catch (error) {
                console.error('Error rendering app:', error);
                document.getElementById('root').innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; background-color: #fef2f2;">
                        <div style="text-align: center; background: white; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
                            <h1 style="color: #dc2626; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Erreur</h1>
                            <p style="color: #6b7280; margin-bottom: 1rem;">Erreur lors du rendu: ${error.message}</p>
                            <button onclick="location.reload()" style="background: #3b82f6; color: white; padding: 0.5rem 1rem; border: none; border-radius: 0.25rem; cursor: pointer;">
                                Recharger
                            </button>
                        </div>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>